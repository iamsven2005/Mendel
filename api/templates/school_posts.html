{% extends "base.html" %}

{% block title %}{{ school_name }}{% endblock %}

{% block content %}
<h1 class="text-2xl font-bold mb-4">{{ school_name }}</h1>
<div class="mb-4">
    <a href="/post" class="bg-blue-500 text-white p-2 rounded hover:bg-blue-700">Create a New Post</a>
    <a href="/logout" class="ml-4 bg-red-500 text-white p-2 rounded hover:bg-red-700">Logout</a>
</div>
<ul>
    {% for post in posts %}
        <li class="mb-4 bg-white p-4 rounded shadow">
            <h2 class="text-xl font-bold">{{ post.title }}</h2>
            <p>Posted by {{ post.username }}</p>
            <p>{{ post.content }}</p>
            <div class="flex items-center">
                <p class="mr-4">Likes: {{ post.likes }} Dislikes: {{ post.dislikes }}</p>
                <p class="mr-4">Comments: {{ post.comment_count }}</p>
                <form method="POST" action="{{ url_for('like_dislike', post_id=post.id, action='like') }}">
                    <button type="submit" class="bg-green-500 text-white p-2 rounded hover:bg-green-700">Like</button>
                </form>
                <form method="POST" action="{{ url_for('like_dislike', post_id=post.id, action='dislike') }}" class="ml-2">
                    <button type="submit" class="bg-red-500 text-white p-2 rounded hover:bg-red-700">Dislike</button>
                </form>
                <a href="{{ url_for('post_detail', post_id=post.id) }}" class="ml-4 text-blue-500 hover:underline">Comments</a>
            </div>
        </li>
    {% endfor %}
</ul>
{% endblock %}
